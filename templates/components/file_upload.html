<!-- File Upload Component -->
<div class="file-upload-section method-upload" data-method-type="{{ method_type }}" data-expected-criteria="{{ expected_criteria }}" data-expected-alternatives="{{ expected_alternatives }}">
  <div class="file-drop-zone">
    <i class="fas fa-cloud-upload-alt file-upload-icon"></i>
    <div class="file-upload-text">
      <strong>Upload Excel/CSV File</strong><br>
      Drag and drop your file here or click to browse
    </div>
    <div class="file-upload-buttons">
      <label for="file-input" class="file-upload-btn">
        <i class="fas fa-folder-open"></i>
        Choose File
      </label>
      <a href="/download_example/{{ method_type }}" class="file-upload-btn secondary download-example-btn" target="_blank">
        <i class="fas fa-download"></i>
        Download Example
      </a>
    </div>
    <input type="file" id="file-input" accept=".xlsx,.xls,.csv" style="display: none;">
  </div>

  <!-- File Preview -->
  <div id="file-preview" class="file-preview" style="display: none;"></div>

  <!-- Upload Progress -->
  <div class="upload-progress" style="display: none;">
    <div class="progress">
      <div id="upload-progress" class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
  </div>

  <!-- Upload Alerts -->
  <div class="upload-alerts">
    <div id="upload-error"></div>
    <div id="upload-success"></div>
  </div>

  <!-- Upload Button -->
  <button type="button" id="upload-file-btn" class="file-upload-btn" disabled style="margin-top: 15px;">
    <i class="fas fa-upload"></i>
    Upload and Parse File
  </button>
</div>

<!-- Preview Modal -->
<div class="modal fade" id="previewModal" tabindex="-1" role="dialog" aria-labelledby="previewModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content" style="background: var(--color-background); border: 1px solid rgba(102, 252, 241, 0.2);">
      <div class="modal-header" style="border-bottom: 1px solid rgba(102, 252, 241, 0.2);">
        <h5 class="modal-title" id="previewModalLabel" style="color: var(--color-accent);">
          <i class="fas fa-eye"></i> File Preview
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color: var(--color-text);">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="color: var(--color-text);">
        <!-- Preview content will be inserted here -->
      </div>
      <div class="modal-footer" style="border-top: 1px solid rgba(102, 252, 241, 0.2);">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
